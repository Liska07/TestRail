{"uid":"b07b5d37f6efc81b","name":"AddMilestoneDB","fullName":"TestRail:TestRail.Tests.DB.DbTests.AddMilestoneDB()","historyId":"6ac7c008b2ac4edc323283193ca04b08","time":{"start":1718053047042,"stop":1718053047289,"duration":247},"description":"Verifying for adding a milestone by API with data from database","descriptionHtml":"<p>Verifying for adding a milestone by API with data from database</p>\n","status":"broken","statusMessage":"System.Reflection.TargetInvocationException : Exception has been thrown by the target of an invocation.\n  ----> Npgsql.NpgsqlException : Failed to connect to 127.0.0.1:5432\n  ----> System.Net.Sockets.SocketException : Connection refused","statusTrace":"   at System.Reflection.MethodBaseInvoker.InvokeWithManyArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at Allure.Net.Commons.Steps.AllureStepAspectBase.Around(String name, Object[] args, Func`2 target, MethodBase metadata, Type returnType)\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_w_0(Object[])\n   at TestRail.Tests.DB.DbTests.ConnectToDatabase()\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\n   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)\n--NpgsqlException\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.Open()\n   at TestRail.Connector.DbConnector..ctor() in /home/runner/work/TestRail/TestRail/Connector/DbConnector.cs:line 22\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_o() in /home/runner/work/TestRail/TestRail/Tests/DB/DbTests.cs:line 22\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_u(Object[])\n   at Allure.Net.Commons.Steps.AllureAbstractStepAspect.WrapSyncVoid(Func`2 target, Object[] args, MethodBase metadata, String stepName, List`1 stepParameters)\n   at InvokeStub_AllureAbstractStepAspect.WrapSyncVoid(Object, Span`1)\n   at System.Reflection.MethodBaseInvoker.InvokeWithManyArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n--SocketException\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"Setup API client","time":{"start":1718053047054,"stop":1718053047087,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Setup connection","time":{"start":1718053047087,"stop":1718053047275,"duration":188},"status":"broken","statusMessage":"Failed to connect to 127.0.0.1:5432","statusTrace":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\n ---> System.Net.Sockets.SocketException (111): Connection refused\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.Open()\n   at TestRail.Connector.DbConnector..ctor() in /home/runner/work/TestRail/TestRail/Connector/DbConnector.cs:line 22\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_o() in /home/runner/work/TestRail/TestRail/Tests/DB/DbTests.cs:line 22\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_u(Object[])\n   at Allure.Net.Commons.Steps.AllureAbstractStepAspect.WrapSyncVoid(Func`2 target, Object[] args, MethodBase metadata, String stepName, List`1 stepParameters)","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"testStage":{"description":"Verifying for adding a milestone by API with data from database","status":"broken","statusMessage":"System.Reflection.TargetInvocationException : Exception has been thrown by the target of an invocation.\n  ----> Npgsql.NpgsqlException : Failed to connect to 127.0.0.1:5432\n  ----> System.Net.Sockets.SocketException : Connection refused","statusTrace":"   at System.Reflection.MethodBaseInvoker.InvokeWithManyArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at Allure.Net.Commons.Steps.AllureStepAspectBase.Around(String name, Object[] args, Func`2 target, MethodBase metadata, Type returnType)\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_w_0(Object[])\n   at TestRail.Tests.DB.DbTests.ConnectToDatabase()\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\n   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)\n--NpgsqlException\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.Open()\n   at TestRail.Connector.DbConnector..ctor() in /home/runner/work/TestRail/TestRail/Connector/DbConnector.cs:line 22\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_o() in /home/runner/work/TestRail/TestRail/Tests/DB/DbTests.cs:line 22\n   at TestRail.Tests.DB.DbTests.__a$_around_ConnectToDatabase_100663355_u(Object[])\n   at Allure.Net.Commons.Steps.AllureAbstractStepAspect.WrapSyncVoid(Func`2 target, Object[] args, MethodBase metadata, String stepName, List`1 stepParameters)\n   at InvokeStub_AllureAbstractStepAspect.WrapSyncVoid(Object, Span`1)\n   at System.Reflection.MethodBaseInvoker.InvokeWithManyArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n--SocketException\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)","steps":[],"attachments":[{"uid":"3e264bbfc065a4f5","name":"Console Output","source":"3e264bbfc065a4f5.txt","type":"text/plain","size":64}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"Close connection","time":{"start":1718053047280,"stop":1718053047280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"API client dispose","time":{"start":1718053047280,"stop":1718053047281,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"thread","value":"ParallelWorker#3"},{"name":"host","value":"fv-az1152-432"},{"name":"language","value":"C#"},{"name":"framework","value":"NUnit 3"},{"name":"package","value":"TestRail.Tests.DB"},{"name":"testMethod","value":"AddMilestoneDB"},{"name":"testClass","value":"DbTests"},{"name":"severity","value":"critical"},{"name":"story","value":"Add a milestone"},{"name":"feature","value":"MilestoneTests"},{"name":"owner","value":"EAntonova"},{"name":"epic","value":"TestRail"},{"name":"tag","value":"DatabaseTests"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","owner":"EAntonova","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["DatabaseTests"]},"source":"b07b5d37f6efc81b.json","parameterValues":[]}